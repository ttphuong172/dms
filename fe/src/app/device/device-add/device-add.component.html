<div class="container">
  <h3>Add new device 25/08/2022</h3>
  <form [formGroup]="deviceForm">
     <div class="row">
       <div class="col-md-8" style="background-color: aliceblue">

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>ID</label>
           </div>
           <div class="col-md-9">
             <input type="text" class="form-control" formControlName="id">
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Category</label>
           </div>
           <div class="col-md-9">
             <select name="" id="" class="form-control" formControlName="category">
               <option value="">Choose a category</option>
               <option *ngFor="let category of categoryList" [ngValue]="category">{{category.name}}</option>
             </select>
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Use Date</label>
           </div>
           <div class="col-md-9">
             <input type="date" class="form-control" formControlName="useDate">
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Brand</label>
           </div>
           <div class="col-md-9">
             <input type="text" class="form-control" formControlName="brand">
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Model</label>
           </div>
           <div class="col-md-9">
             <input type="text" class="form-control" formControlName="model">
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Serial</label>
           </div>
           <div class="col-md-9">
             <input type="text" class="form-control" formControlName="serial">
           </div>
         </div>

         <div class="row">
           <div class="col-md-3">
             <label>Configuration</label>
           </div>
           <div class="col-md-9">
             <div formArrayName="configurationList"
                  *ngFor="let item of deviceForm.get('configurationList').controls; let i = index;">
               <div>
                 <div [formGroupName]="i" class="row" style="margin-top: 5px">

                   <div class="col-3">
                     <select name="" formControlName="type" class="form-control">
                       <option *ngFor="let type of typeList" [ngValue]="type">{{type.name}}</option>
                     </select>
                   </div>

                   <div class="col-3">
                     <input class="form-control" formControlName="detail" placeholder="">
                   </div>

                   <div class="col-3">
                     <input class="form-control" formControlName="setDate" placeholder="">
                   </div>

                   <div class="col-3" style="text-align: center">
                     <button (click)="removeConfig(i)" class="btn btn-danger" style="width: 100%">
                       <i class="fa fa-trash"></i>
                     </button>
                   </div>
                 </div>
               </div>
               <div>
               </div>
             </div>
           </div>
         </div>

         <div class="row" style="margin-top: 10px">
           <div class="col-md-3"></div>
           <div class="col-md-3">
             <button style="width: 100%" class="btn btn-primary" (click)="addConfig()">Add</button>
           </div>
           <div class="col-md-3"></div>
           <div class="col-md-3"></div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Campus</label>
           </div>
           <div class="col-md-9">
             <select name="" formControlName="campus" class="form-control" (change)="loadFloor($event)">
               <option value="">Choose a campus</option>
               <option *ngFor="let campus of campusList" [ngValue]="campus">{{campus.name}}</option>
             </select>
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Floor</label>
           </div>
           <div class="col-md-9">
             <select name="" formControlName="floor" class="form-control" (change)="loadRoom($event)">
               <option value="">Choose a floor</option>
               <option *ngFor="let floor of floorList" [ngValue]="floor">{{floor.name}}</option>
             </select>
           </div>
         </div>

         <div style="margin-top: 5px" class="row">
           <div class="col-md-3">
             <label>Room</label>
           </div>
           <div class="col-md-9">
             <select name="" formControlName="room" class="form-control">
               <option value="">Choose a room</option>
               <option *ngFor="let room of roomList" [ngValue]="room">{{room.name}}</option>
             </select>
           </div>
           <div class="col-2"></div>
         </div>

       </div>

       <div class="col-md-4" style="background-color: antiquewhite">

       </div>
     </div>


  </form>
  <div class="row" style="margin-top: 20px">
    <div class="col-md-2"></div>
    <div class="col-md-2"></div>
    <div class="col-md-2"></div>
    <div class="col-md-2"></div>
    <div class="col-md-2" style="padding-bottom: 20px">
      <button class="btn btn-outline-dark" style="width: 100%" (click)="cancel()">Cancel</button>
    </div>
    <div class="col-md-2">
      <button class="btn btn-primary" style="width: 100%" (click)="save()">Save</button>
    </div>

  </div>
</div>

{{deviceForm.value | json}}
